#!/usr/bin/env bash

set -euo pipefail

cd "$(dirname "$0")/.."

python3 -m ruff check . --select F,E9

if python3 -c 'import homeassistant' >/dev/null 2>&1; then
    python3 -m pytest -q tests/unit tests/integration
else
    python3 -m pytest -q tests/unit
fi
